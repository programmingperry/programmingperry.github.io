<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Syne+Mono&display=swap" rel="stylesheet">
    <title>programming perry</title>
    <!-- The style.css file allows you to change the look of your web pages.
         If you include the next line in all your web pages, they will all share the same look.
         This makes it easier to make new pages for your site. -->
    <link href="/style.css" rel="stylesheet" type="text/css" media="all">
  </head>

  <body>
    <div class="window">
<!-- Sidebar -->
      <div class="sidebar">
        <h1 class="pagetitle">Programming Perry</h1>
        <div class="sidelinks">
          <a href="#">GitHub</a>
          <a href="#">LinkedIn</a>
        </div>
      </div>

      <!-- Hauptcontainer -->
      <div id="main-content" class="main-content">
        <!-- Menü Tabs -->
        <div class="tabs">
          <button class="tablink" onclick="loadPage('Unterseiten/index_content.html', this)" id="defaultOpen">Index</button>
          <button class="tablink" onclick="loadPage('Unterseiten/projects_content.html', this)">Projects</button>
          <button class="tablink" onclick="loadPage('Unterseiten/dev_log_content.html', this)">Dev_Log</button>
        </div>

        <!-- Tabs Inhalte-->
        
        <!-- Hier wird der Inhalt geladen -->
        <div id="content" class="content">
          <p>Inhalt wird geladen...</p>
        </div>
      </div>
    </div>

    
<script>
  function openPage(pageName, elmnt) {
      var i, tabcontent, tablinks;
      tabcontent = document.getElementsByClassName("tabcontent");
      for (i = 0; i < tabcontent.length; i++) {
          tabcontent[i].style.display = "none";
      }
      document.getElementById(pageName).style.display = "block";
  }

  function loadPage(page, element) {
  fetch(page)
    .then(response => {
      if (!response.ok) {
        throw new Error("Seite nicht gefunden: " + page);
      }
      return response.text();
    })
    .then(data => {
      document.getElementById("content").innerHTML = data;

      // Entferne die "active-tab" Klasse von allen Tabs
      document.querySelectorAll(".tablink").forEach(tab => {
        tab.classList.remove("active-tab");
      });

      // Füge die "active-tab" Klasse zum geklickten Tab hinzu
      element.classList.add("active-tab");
    })
    .catch(error => console.error('Fehler beim Laden:', error));
}

// Standardseite laden, wenn die Seite geöffnet wird
document.addEventListener("DOMContentLoaded", function () {
  let defaultTab = document.getElementById("defaultOpen");
  console.log("Default Tab:", defaultTab); // Hier prüfen, ob das Element existiert
  if (defaultTab) {
    loadPage("Unterseiten/index_content.html", defaultTab);
  } else {
    console.error("defaultOpen nicht gefunden!");
  }
});

</script>

  </body>
</html>
